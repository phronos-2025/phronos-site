---
interface Props {
  size?: number;
  class?: string;
}

const { size = 31, class: className } = Astro.props;
---

<canvas 
  class:list={['phronos-logo', className]} 
  width={size} 
  height={size}
  data-size={size}
  aria-label="Phronos logo"
></canvas>

<script>
  import { PhronosLens } from '../../lib/logo-animation';

  function initLogos() {
    const canvases = document.querySelectorAll<HTMLCanvasElement>('.phronos-logo');
    canvases.forEach((canvas) => {
      const size = parseInt(canvas.dataset.size || '31', 10);
      const lens = new PhronosLens(canvas, { size });
      lens.start();
    });
  }

  // Initialize on page load
  initLogos();

  // Re-initialize on Astro page transitions
  document.addEventListener('astro:after-swap', initLogos);
</script>

<style>
  .phronos-logo {
    display: block;
    flex-shrink: 0;
  }
</style>

